#!/usr/bin/env node
'use strict';

var spm = require('spm');
var program = require('commander');
var getConfig = require('../lib/config').get;

program
  .option('-s, --source [name]', 'the source repo name')
  .option('-d, --destination [dir]', 'the destination, default: sea-modules')
  .option('-g, --global', 'install the package to ~/.spm/sea-modules')
  .option('-f, --force', 'force to download a unstable module')
  .option('-v, --verbose', 'show more logs')
  .option('-q, --quiet', 'show less logs')
  .option('--save', 'save alias to package.json')
  .option('--save-dev', 'save devAlias to package.json')
  .option('--parallel [number]', 'parallel installation')
  .option('--no-color', 'disable colorful print')
  .parse(process.argv);

var opt = getConfig();
spm.install({
  source: program.source || opt["spm-source"],
  destination: program.destination,
  force: program.force,
  parallel: program.parallel,
  save: program.save,
  saveDev: program.saveDev,
  query: program.args
});
